{"version":3,"sources":["webpack:///webpack/bootstrap bd6038d0cf3281f1ae12","webpack:///./workers/timer.worker.js","webpack:///./src/assets/img/favicon.ico"],"names":[],"mappings":";AAAA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;;AAGA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAK;AACL;AACA;;AAEA;AACA;AACA;AACA,mCAA2B,0BAA0B,EAAE;AACvD,yCAAiC,eAAe;AAChD;AACA;AACA;;AAEA;AACA,8DAAsD,+DAA+D;;AAErH;AACA;;AAEA;AACA;;;;;;;;;;;AC7DA;;AAEA;AACA;AACA;AACA;AACA;;AAEA,uCAAuC,iCAAiC,MAAM,UAAU;AACxF,+DAA+D,0BAA0B;AACzF,+DAA+D,oBAAoB;AACnF;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,4CAA4C,iBAAiB;AAC7D;AACA;AACA;AACA,OAAO;AACP;AACA,KAAK;AACL;;AAEA;AACA;AACA,4CAA4C,iBAAiB;AAC7D;AACA;AACA,OAAO;AACP;AACA,GAAG;AACH;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO,yEAAyE;AAChF;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA,KAAK;AACL,GAAG;AACH;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA,SAAS,mCAAmC;AAC5C;;AAEA;AACA,CAAC;;AAED;AACA,SAAS,OAAO;;AAEhB;AACA;AACA;AACA;AACA;AACA,OAAO;AACP,KAAK;AACL,GAAG;AACH;;AAEA;AACA;AACA,0CAA0C,iBAAiB;AAC3D;AACA;AACA,KAAK;AACL;AACA,GAAG;AACH;AACA,GAAG;AACH;AACA;AACA,0CAA0C,iBAAiB;AAC3D;AACA;AACA;AACA,KAAK;AACL,GAAG;AACH;AACA;AACA;;;;;;;AC5HA,oCAAoC,4lL","file":"bd6038d0cf3281f1ae12.worker.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 0);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap bd6038d0cf3281f1ae12","import timerIcon from '../src/assets/img/favicon.ico';\n\nlet intervalId = 0;\nlet timerValue = 0;\nlet timerEndTime = 0;\nlet notification;\nlet notificationToken;\n\nconst doubleDigitChecker = (value) => { return value.length === 1 ? `0${value}` : value; };\nconst calculateSeconds = milliseconds => doubleDigitChecker(`${(milliseconds / 100) % 60}`.split('.')[0]);\nconst calculateMinutes = milliseconds => doubleDigitChecker(`${milliseconds / 6000}`.split('.')[0]);\nconst notificationBroadcastChannel = new BroadcastChannel('timerNotification');\nconst restartBroadcastChannel = new BroadcastChannel('timerRestart');\n\nfunction startTimer(timerAmount, notificationAllowed) {\n  timerValue = timerAmount;\n\n  if (notification) {\n    notification.close();\n  }\n\n  return setInterval(() => {\n    if (timerValue < 2) {\n      timerValue = 0;\n      timerEndTime = Date.now();\n\n      if (Notification.permission === 'granted' && notificationAllowed) {\n        makeRequestForPushNotification(timerAmount);\n      }\n\n      postMessage({\n        timerValue,\n        milliseconds: doubleDigitChecker(`${timerValue % 100}`),\n        seconds: calculateSeconds(timerValue),\n        minutes: calculateMinutes(timerValue),\n        timerEndTime\n      });\n      clearInterval(intervalId);\n    } else {\n      timerValue -= 1;\n\n      postMessage({\n        timerValue,\n        milliseconds: doubleDigitChecker(`${timerValue % 100}`),\n        seconds: calculateSeconds(timerValue),\n        minutes: calculateMinutes(timerValue),\n      });\n    }\n  }, 10);\n}\n\nfunction makeRequestForPushNotification(timerAmount) {\n  notificationBroadcastChannel.postMessage(timerAmount);\n  const myHeaders = new Headers();\n  const notificationPayload = {\n    body: 'Timer is up!',\n    icon: 'static/images/timer.png',\n    vibrate: [200, 100, 200, 100, 200, 100, 400],\n    tag: 'request',\n    actions: [\n      { action: 'yes', title: 'Restart Timer', icon: 'static/images/check.png' },\n    ],\n  };\n\n  myHeaders.append('Content-Type', 'application/json');\n  myHeaders.append('Authorization', 'key=AAAAM8S-bmg:APA91bF70jClkUJI-UtUuLbr1rgw1WkldiDCtiSrYuVryofUyDsu6Kz3LhwEuyaF1PWQHb0UZceAvRfFEu2ZE64IFH6VMyUD4ecR0kr8qgO1FLRexnZA1phqXk-duYQRmqazJotAMvV3');\n  fetch('https://fcm.googleapis.com/fcm/send', {\n    method: 'POST',\n    headers: myHeaders,\n    body: JSON.stringify({\n      data: {\n        'json-data': JSON.stringify(notificationPayload),\n      },\n      to: notificationToken,\n    }),\n  }).catch(response => console.log(JSON.stringify(response)));\n}\n\nrestartBroadcastChannel.onmessage = () => {\n  clearInterval(intervalId);\n\n  intervalId = startTimer(timerValue, true);\n}\n\nself.addEventListener('timerstart', (event) => {\n  const { timerAmount, notificationAllowed } = event.detail;\n  clearInterval(intervalId);\n\n  intervalId = startTimer(timerAmount, notificationAllowed);\n});\n\nself.onmessage = (event) => {\n  const { data } = event;\n\n  if (data.startTimer) {\n    dispatchEvent(new CustomEvent('timerstart', {\n      detail: {\n        timerAmount: event.data.timerAmount,\n        notificationAllowed: event.data.notificationAllowed,\n      },\n    }));\n  } else if (data.resetTimer) {\n    timerValue = event.data.timerAmount;\n\n    postMessage({\n      timerValue,\n      milliseconds: doubleDigitChecker(`${timerValue % 100}`),\n      seconds: calculateSeconds(timerValue),\n      minutes: calculateMinutes(timerValue),\n    });\n    clearInterval(intervalId);\n  } else if (data.setNotificationToken) {\n    notificationToken = data.notificationToken;\n  } else if (data.checkTimerValue) {\n    postMessage({\n      timerValue,\n      milliseconds: doubleDigitChecker(`${timerValue % 100}`),\n      seconds: calculateSeconds(timerValue),\n      minutes: calculateMinutes(timerValue),\n      timerEndTime\n    });\n  } else {\n    clearInterval(intervalId);\n  }\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./workers/timer.worker.js\n// module id = 0\n// module chunks = 0","module.exports = \"data:image/x-icon;base64,AAABAAEAICAAAAEAIACoEAAAFgAAACgAAAAgAAAAQAAAAAEAIAAAAAAAABAAAMMOAADDDgAAAAAAAAAAAAD/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////7u7u/83Nzf+1tbX/qqqq/6qqqv+2trb/zc3N/+/v7//////////////////////////////////////////////////////////////////////////////////////////////////////////////////+/v7/2tra/4qKiv9HR0f/JCQk/wwMDP8BAQH/AQEB/w0NDf8kJCT/SEhI/4uLi//b29v/////////////////////////////////////////////////////////////////////////////////////////////////7e3t/5KSkv8oKCj/BAQE/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/BAQE/yoqKv+UlJT/7u7u/////////////////////////////////////////////////////////////////////////////////+Pj4/9gYGD/CQkJ/wAAAP8BAQH/HBwc/1NTU/+EhIT/m5ub/5ubm/+EhIT/U1NT/xwcHP8BAQH/AAAA/woKCv9iYmL/5OTk///////////////////////////////////////////////////////////////////////j4+P/U1NT/wAAAP8AAAD/HBwc/3d3d//V1dX/9PT0//7+/v////////////7+/v/09PT/1dXV/3Z2dv8bGxv/AAAA/wEBAf9VVVX/5OTk////////////////////////////////////////////////////////////9fX1/2xsbP8DAwP/AAAA/y8vL/+2trb/+/v7////////////////////////////////////////////+/v7/7W1tf8vLy//AAAA/wQEBP9vb2//9vb2//////////////////////////////////////////////////////+oqKj/DQ0N/wAAAP8tLS3/xcXF/////////////////////////////////////////////////////////////////8XFxf8sLCz/AAAA/w4ODv+qqqr/////////////////////////////////////////////////6enp/0ZGRv8AAAD/Dg4O/6qqqv///////////////////////////////////////////////////////////////////////////6ioqP8ODg7/AAAA/0hISP/q6ur///////////////////////////////////////////+wsLD/DQ0N/wAAAP9cXFz/9fX1////////////////////////////////////////////////////////////////////////////9PT0/1paWv8AAAD/Dg4O/7Kysv//////////////////////////////////////+/v7/3Z2dv8AAAD/DAwM/66urv//////////////////////////////////////////////////////////////////////////////////////ra2t/wsLC/8AAAD/eHh4//v7+//////////////////////////////////w8PD/RUVF/wAAAP8xMTH/2tra///////////////////////////////////////////////////////////////////////////////////////a2tr/MDAw/wAAAP9GRkb/8fHx/////////////////////////////////+rq6v8nJyf/AAAA/0lJSf/y8vL/////////////////////////////////xcXF/1dXV/9XV1f/xcXF//////////////////////////////////Hx8f9ISEj/AAAA/ygoKP/r6+v/////////////////////////////////6Ojo/xsbG/8AAAD/VFRU//z8/P////////////////////////////////+kpKT/AAAA/wAAAP+kpKT//////////////////////////////////Pz8/1NTU/8AAAD/HR0d/+jo6P/////////////////////////////////p6en/ISEh/wAAAP9OTk7/9/f3/////////////////////////////////6ampv8AAAD/AAAA/6ampv/////////////////////////////////29vb/Tk5O/wAAAP8nJyf/6urq/////////////////////////////////+7u7v85OTn/AAAA/zs7O//k5OT/////////////////////////////////pqam/wAAAP8AAAD/pqam/////////////////////////////////+Pj4/86Ojr/AAAA/z4+Pv/v7+//////////////////////////////////9/f3/2JiYv8AAAD/GBgY/8DAwP////////////////////////////////+mpqb/AAAA/wAAAP+mpqb/////////////////////////////////v7+//xcXF/8AAAD/aWlp//j4+P//////////////////////////////////////nZ2d/wQEBP8AAAD/fHx8//z8/P///////////////////////////6ampv8AAAD/AAAA/6ampv////////////////////////////z8/P96enr/AAAA/wUFBf+ioqL////////////////////////////////////////////X19f/Li4u/wAAAP8iIiL/z8/P////////////////////////////pqam/wAAAP8AAAD/pqam////////////////////////////zs7O/yEhIf8AAAD/MzMz/9zc3P////////////////////////////////////////////7+/v+Dg4P/AwMD/wAAAP9SUlL/5ubm//////////////////////+mpqb/AAAA/wAAAP+mpqb//////////////////////+bm5v9RUVH/AAAA/wUFBf+Li4v//////////////////////////////////////////////////////+Pj4/9AQED/AAAA/wUFBf9hYWH/5OTk/////////////////+Dg4P+mpqb/pqam/+Dg4P/////////////////j4+P/X19f/wUFBf8AAAD/RUVF/+jo6P///////////////////////////////////////////////////////////8PDw/8qKir/AAAA/wICAv9GRkb/tbW1//X19f/////////////////////////////////19fX/tLS0/0VFRf8CAgL/AAAA/wAAAP9QUFD/5eXl/////////////////////////////////////////////////////////////////7q6uv8sLCz/AAAA/wAAAP8VFRX/VlZW/5WVlf/Gxsb/3Nzc/9zc3P/Gxsb/lZWV/1VVVf8VFRX/AAAA/wAAAP8JCQn/AAAA/wICAv9iYmL/6+vr/////////////////////////////////////////////////////////////////8zMzP9VVVX/CQkJ/wAAAP8AAAD/BgYG/xEREf8WFhb/FRUV/xEREf8GBgb/AAAA/wAAAP8LCwv/Xl5e/6CgoP8xMTH/AAAA/01NTf/k5OT//////////////////////////////////////////////////////////////////////+zs7P+hoaH/SEhI/xMTE/8GBgb/AAAA/wAAAP8AAAD/AAAA/wcHB/8UFBT/Tk5O/6enp//w8PD//////76+vv9ubm7/09PT///////////////////////////////////////////////////////////////////////////////////////w8PD/yMjI/5SUlP9wcHD/X19f/2NjY/92dnb/mpqa/8/Pz//y8vL///////////////////////j4+P////////////////////////////////////////////////////////////////////////////////////////////7+/v/r6+v/6enp/+np6f/p6en/6enp/+np6f/p6en/6+vr//7+/v//////////////////////////////////////////////////////////////////////////////////////////////////////////////////////6enp/y4uLv8XFxf/GBgY/xgYGP8YGBj/GBgY/xcXF/8uLi7/6enp///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////m5ub/ERER/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/xEREf/m5ub//////////////////////////////////////////////////////////////////////////////////////////////////////////////////////+/v7/9paWn/WVlZ/1lZWf9ZWVn/WVlZ/1lZWf9ZWVn/aWlp/+/v7///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA=\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/assets/img/favicon.ico\n// module id = 1\n// module chunks = 0"],"sourceRoot":""}