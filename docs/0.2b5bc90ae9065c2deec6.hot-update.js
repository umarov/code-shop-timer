webpackHotUpdate(0,[
/* 0 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("Object.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__src_assets_img_favicon_ico__ = __webpack_require__(1);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__src_assets_img_favicon_ico___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0__src_assets_img_favicon_ico__);\n\n\nlet intervalId = 0;\nlet timerValue = 0;\nlet notification;\n\nconst doubleDigitChecker = (value) => { return value.length === 1 ? `0${value}` : value; };\n\nconst calculateSeconds = milliseconds => doubleDigitChecker(`${(milliseconds / 100) % 60}`.split('.')[0]);\n\nconst calculateMinutes = milliseconds => doubleDigitChecker(`${milliseconds / 6000}`.split('.')[0]);\n\nfunction showNotification(timerAmount, notificationAllowed) {\n  notification = new Notification('Timer Ended', {\n    body: 'Click to restart the timer',\n    icon: __WEBPACK_IMPORTED_MODULE_0__src_assets_img_favicon_ico___default.a,\n    vibrate: [200, 100, 200, 100, 200, 100, 400],\n    tag: 'request',\n  });\n\n  notification.addEventListener('click', () => {\n    dispatchEvent(new CustomEvent('timerstart', {\n      detail: {\n        timerAmount,\n        notificationAllowed,\n      },\n    }));\n  });\n\n  setTimeout(notification.close.bind(notification), 7000);\n}\n\nfunction startTimer(timerAmount, notificationAllowed) {\n  timerValue = timerAmount;\n\n  if (notification) {\n    notification.close();\n  }\n\n  return setInterval(() => {\n    timerValue -= 1;\n\n    postMessage({\n      timerValue,\n      milliseconds: doubleDigitChecker(`${timerValue % 100}`),\n      seconds: calculateSeconds(timerValue),\n      minutes: calculateMinutes(timerValue),\n    });\n\n    if (timerValue < 1 && Notification.permission === 'granted' && notificationAllowed) {\n      dispatchEvent(new CustomEvent('timernotification', {\n        detail: {\n          timerAmount,\n          notificationAllowed,\n        },\n      }));\n    }\n  }, 10);\n}\n\nself.addEventListener('timernotification', (event) => {\n  const { timerAmount, notificationAllowed } = event.detail;\n  clearInterval(intervalId);\n\n  showNotification(timerAmount, notificationAllowed);\n});\n\nself.addEventListener('timerstart', (event) => {\n  const { timerAmount, notificationAllowed } = event.detail;\n  clearInterval(intervalId);\n\n  intervalId = startTimer(timerAmount, notificationAllowed);\n});\n\nself.onmessage = (event) => {\n  const data = event.data;\n\n  if (data.startTimer) {\n    dispatchEvent(new CustomEvent('timerstart', {\n      detail: {\n        timerAmount: event.data.timerAmount,\n        notificationAllowed: event.data.notificationAllowed,\n      },\n    }));\n  } else if (data.resetTimer) {\n    timerValue = event.data.timerAmount;\n\n    postMessage({\n      timerValue,\n      milliseconds: doubleDigitChecker(`${timerValue % 100}`),\n      seconds: calculateSeconds(timerValue),\n      minutes: calculateMinutes(timerValue),\n    });\n    clearInterval(intervalId);\n  } else {\n    clearInterval(intervalId);\n  }\n};\n\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMC5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL3dvcmtlcnMvdGltZXIud29ya2VyLmpzPzcwZjYiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHRpbWVySWNvbiBmcm9tICcuLi9zcmMvYXNzZXRzL2ltZy9mYXZpY29uLmljbyc7XG5cbmxldCBpbnRlcnZhbElkID0gMDtcbmxldCB0aW1lclZhbHVlID0gMDtcbmxldCBub3RpZmljYXRpb247XG5cbmNvbnN0IGRvdWJsZURpZ2l0Q2hlY2tlciA9ICh2YWx1ZSkgPT4geyByZXR1cm4gdmFsdWUubGVuZ3RoID09PSAxID8gYDAke3ZhbHVlfWAgOiB2YWx1ZTsgfTtcblxuY29uc3QgY2FsY3VsYXRlU2Vjb25kcyA9IG1pbGxpc2Vjb25kcyA9PiBkb3VibGVEaWdpdENoZWNrZXIoYCR7KG1pbGxpc2Vjb25kcyAvIDEwMCkgJSA2MH1gLnNwbGl0KCcuJylbMF0pO1xuXG5jb25zdCBjYWxjdWxhdGVNaW51dGVzID0gbWlsbGlzZWNvbmRzID0+IGRvdWJsZURpZ2l0Q2hlY2tlcihgJHttaWxsaXNlY29uZHMgLyA2MDAwfWAuc3BsaXQoJy4nKVswXSk7XG5cbmZ1bmN0aW9uIHNob3dOb3RpZmljYXRpb24odGltZXJBbW91bnQsIG5vdGlmaWNhdGlvbkFsbG93ZWQpIHtcbiAgbm90aWZpY2F0aW9uID0gbmV3IE5vdGlmaWNhdGlvbignVGltZXIgRW5kZWQnLCB7XG4gICAgYm9keTogJ0NsaWNrIHRvIHJlc3RhcnQgdGhlIHRpbWVyJyxcbiAgICBpY29uOiB0aW1lckljb24sXG4gICAgdmlicmF0ZTogWzIwMCwgMTAwLCAyMDAsIDEwMCwgMjAwLCAxMDAsIDQwMF0sXG4gICAgdGFnOiAncmVxdWVzdCcsXG4gIH0pO1xuXG4gIG5vdGlmaWNhdGlvbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcbiAgICBkaXNwYXRjaEV2ZW50KG5ldyBDdXN0b21FdmVudCgndGltZXJzdGFydCcsIHtcbiAgICAgIGRldGFpbDoge1xuICAgICAgICB0aW1lckFtb3VudCxcbiAgICAgICAgbm90aWZpY2F0aW9uQWxsb3dlZCxcbiAgICAgIH0sXG4gICAgfSkpO1xuICB9KTtcblxuICBzZXRUaW1lb3V0KG5vdGlmaWNhdGlvbi5jbG9zZS5iaW5kKG5vdGlmaWNhdGlvbiksIDcwMDApO1xufVxuXG5mdW5jdGlvbiBzdGFydFRpbWVyKHRpbWVyQW1vdW50LCBub3RpZmljYXRpb25BbGxvd2VkKSB7XG4gIHRpbWVyVmFsdWUgPSB0aW1lckFtb3VudDtcblxuICBpZiAobm90aWZpY2F0aW9uKSB7XG4gICAgbm90aWZpY2F0aW9uLmNsb3NlKCk7XG4gIH1cblxuICByZXR1cm4gc2V0SW50ZXJ2YWwoKCkgPT4ge1xuICAgIHRpbWVyVmFsdWUgLT0gMTtcblxuICAgIHBvc3RNZXNzYWdlKHtcbiAgICAgIHRpbWVyVmFsdWUsXG4gICAgICBtaWxsaXNlY29uZHM6IGRvdWJsZURpZ2l0Q2hlY2tlcihgJHt0aW1lclZhbHVlICUgMTAwfWApLFxuICAgICAgc2Vjb25kczogY2FsY3VsYXRlU2Vjb25kcyh0aW1lclZhbHVlKSxcbiAgICAgIG1pbnV0ZXM6IGNhbGN1bGF0ZU1pbnV0ZXModGltZXJWYWx1ZSksXG4gICAgfSk7XG5cbiAgICBpZiAodGltZXJWYWx1ZSA8IDEgJiYgTm90aWZpY2F0aW9uLnBlcm1pc3Npb24gPT09ICdncmFudGVkJyAmJiBub3RpZmljYXRpb25BbGxvd2VkKSB7XG4gICAgICBkaXNwYXRjaEV2ZW50KG5ldyBDdXN0b21FdmVudCgndGltZXJub3RpZmljYXRpb24nLCB7XG4gICAgICAgIGRldGFpbDoge1xuICAgICAgICAgIHRpbWVyQW1vdW50LFxuICAgICAgICAgIG5vdGlmaWNhdGlvbkFsbG93ZWQsXG4gICAgICAgIH0sXG4gICAgICB9KSk7XG4gICAgfVxuICB9LCAxMCk7XG59XG5cbnNlbGYuYWRkRXZlbnRMaXN0ZW5lcigndGltZXJub3RpZmljYXRpb24nLCAoZXZlbnQpID0+IHtcbiAgY29uc3QgeyB0aW1lckFtb3VudCwgbm90aWZpY2F0aW9uQWxsb3dlZCB9ID0gZXZlbnQuZGV0YWlsO1xuICBjbGVhckludGVydmFsKGludGVydmFsSWQpO1xuXG4gIHNob3dOb3RpZmljYXRpb24odGltZXJBbW91bnQsIG5vdGlmaWNhdGlvbkFsbG93ZWQpO1xufSk7XG5cbnNlbGYuYWRkRXZlbnRMaXN0ZW5lcigndGltZXJzdGFydCcsIChldmVudCkgPT4ge1xuICBjb25zdCB7IHRpbWVyQW1vdW50LCBub3RpZmljYXRpb25BbGxvd2VkIH0gPSBldmVudC5kZXRhaWw7XG4gIGNsZWFySW50ZXJ2YWwoaW50ZXJ2YWxJZCk7XG5cbiAgaW50ZXJ2YWxJZCA9IHN0YXJ0VGltZXIodGltZXJBbW91bnQsIG5vdGlmaWNhdGlvbkFsbG93ZWQpO1xufSk7XG5cbnNlbGYub25tZXNzYWdlID0gKGV2ZW50KSA9PiB7XG4gIGNvbnN0IGRhdGEgPSBldmVudC5kYXRhO1xuXG4gIGlmIChkYXRhLnN0YXJ0VGltZXIpIHtcbiAgICBkaXNwYXRjaEV2ZW50KG5ldyBDdXN0b21FdmVudCgndGltZXJzdGFydCcsIHtcbiAgICAgIGRldGFpbDoge1xuICAgICAgICB0aW1lckFtb3VudDogZXZlbnQuZGF0YS50aW1lckFtb3VudCxcbiAgICAgICAgbm90aWZpY2F0aW9uQWxsb3dlZDogZXZlbnQuZGF0YS5ub3RpZmljYXRpb25BbGxvd2VkLFxuICAgICAgfSxcbiAgICB9KSk7XG4gIH0gZWxzZSBpZiAoZGF0YS5yZXNldFRpbWVyKSB7XG4gICAgdGltZXJWYWx1ZSA9IGV2ZW50LmRhdGEudGltZXJBbW91bnQ7XG5cbiAgICBwb3N0TWVzc2FnZSh7XG4gICAgICB0aW1lclZhbHVlLFxuICAgICAgbWlsbGlzZWNvbmRzOiBkb3VibGVEaWdpdENoZWNrZXIoYCR7dGltZXJWYWx1ZSAlIDEwMH1gKSxcbiAgICAgIHNlY29uZHM6IGNhbGN1bGF0ZVNlY29uZHModGltZXJWYWx1ZSksXG4gICAgICBtaW51dGVzOiBjYWxjdWxhdGVNaW51dGVzKHRpbWVyVmFsdWUpLFxuICAgIH0pO1xuICAgIGNsZWFySW50ZXJ2YWwoaW50ZXJ2YWxJZCk7XG4gIH0gZWxzZSB7XG4gICAgY2xlYXJJbnRlcnZhbChpbnRlcnZhbElkKTtcbiAgfVxufTtcblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vd29ya2Vycy90aW1lci53b3JrZXIuanNcbi8vIG1vZHVsZSBpZCA9IDBcbi8vIG1vZHVsZSBjaHVua3MgPSAwIl0sIm1hcHBpbmdzIjoiQUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOyIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///0\n");

/***/ })
])