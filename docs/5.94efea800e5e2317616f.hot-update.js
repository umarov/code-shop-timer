webpackHotUpdate(5,{

/***/ 198:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("/* harmony default export */ __webpack_exports__[\"a\"] = ({\n  name: 'timer-notification',\n  data: function data() {\n    return {\n      notificationPermission: Notification.permission,\n      notificationAllowed: null\n    };\n  },\n  mounted: function mounted() {\n    var _this = this;\n\n    // messaging\n    //   .getToken()\n    //   .then(function(currentToken) {\n    //     if (currentToken) {\n    //       this.notificationAllowed = this.getCachedOverride()\n    //       console.log(currentToken);\n    //     } else {\n    //       // Show permission request.\n    //       console.log('No Instance ID token available. Request permission to generate one.');\n    //       // Show permission UI.\n    //       this.notificationAllowed = false\n    //     }\n    //   })\n    //   .catch(function(err) {\n    //     console.log('An error occurred while retrieving token. ', err);\n    //     showToken('Error retrieving Instance ID token. ', err);\n    //   });\n\n    // messaging.onTokenRefresh(function() {\n    //   messaging\n    //     .getToken()\n    //     .then(function(refreshedToken) {\n    //       if (currentToken) {\n    //         this.notificationAllowed = this.getCachedOverride()\n    //         console.log(currentToken);\n    //       } else {\n    //         // Show permission request.\n    //         console.log('No Instance ID token available. Request permission to generate one.');\n    //         // Show permission UI.\n    //         this.notificationAllowed = false\n    //       }\n    //     })\n    //     .catch(function(err) {\n    //       console.log('Unable to retrieve refreshed token ', err);\n    //     });\n    // });\n    // Set the initial subscription value\n    if (window.swRegistration) {\n      window.swRegistration.pushManager.getSubscription().then(function (subscription) {\n        var isSubscribed = !(subscription === null);\n\n        if (isSubscribed) {\n          _this.notificationAllowed = _this.getCachedOverride();\n        } else {\n          _this.notificationAllowed = false;\n        }\n\n        _this.$emit('notification-state', _this.notificationAllowed);\n      });\n    }\n  },\n\n  methods: {\n    subscribeForNotifications: function subscribeForNotifications() {\n      var _this2 = this;\n\n      Notification.requestPermission(function (permission) {\n        // If the user accepts, let's create a notification\n        if (permission === 'granted') {\n          _this2.notificationAllowed = !_this2.notificationAllowed;\n          _this2.setCachedOverride(_this2.notificationAllowed);\n        } else {\n          _this2.setCachedOverride(false);\n        }\n      });\n    },\n    getCachedOverride: function getCachedOverride() {\n      return localStorage.getItem('notification-override') === 'true';\n    },\n    setCachedOverride: function setCachedOverride(notificationOverride) {\n      localStorage.setItem('notification-override', notificationOverride);\n      this.$emit('notification-state', notificationOverride);\n    }\n  }\n});\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMTk4LmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vL3NyYy9jb21wb25lbnRzL1RpbWVyRGlzcGxheS9UaW1lck5vdGlmaWNhdGlvbi9UaW1lck5vdGlmaWNhdGlvbi5qcz8yOTU5Il0sInNvdXJjZXNDb250ZW50IjpbImV4cG9ydCBkZWZhdWx0IHtcbiAgbmFtZTogJ3RpbWVyLW5vdGlmaWNhdGlvbicsXG4gIGRhdGEoKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIG5vdGlmaWNhdGlvblBlcm1pc3Npb246IE5vdGlmaWNhdGlvbi5wZXJtaXNzaW9uLFxuICAgICAgbm90aWZpY2F0aW9uQWxsb3dlZDogbnVsbCxcbiAgICB9O1xuICB9LFxuICBtb3VudGVkKCkge1xuICAgIC8vIG1lc3NhZ2luZ1xuICAgIC8vICAgLmdldFRva2VuKClcbiAgICAvLyAgIC50aGVuKGZ1bmN0aW9uKGN1cnJlbnRUb2tlbikge1xuICAgIC8vICAgICBpZiAoY3VycmVudFRva2VuKSB7XG4gICAgLy8gICAgICAgdGhpcy5ub3RpZmljYXRpb25BbGxvd2VkID0gdGhpcy5nZXRDYWNoZWRPdmVycmlkZSgpXG4gICAgLy8gICAgICAgY29uc29sZS5sb2coY3VycmVudFRva2VuKTtcbiAgICAvLyAgICAgfSBlbHNlIHtcbiAgICAvLyAgICAgICAvLyBTaG93IHBlcm1pc3Npb24gcmVxdWVzdC5cbiAgICAvLyAgICAgICBjb25zb2xlLmxvZygnTm8gSW5zdGFuY2UgSUQgdG9rZW4gYXZhaWxhYmxlLiBSZXF1ZXN0IHBlcm1pc3Npb24gdG8gZ2VuZXJhdGUgb25lLicpO1xuICAgIC8vICAgICAgIC8vIFNob3cgcGVybWlzc2lvbiBVSS5cbiAgICAvLyAgICAgICB0aGlzLm5vdGlmaWNhdGlvbkFsbG93ZWQgPSBmYWxzZVxuICAgIC8vICAgICB9XG4gICAgLy8gICB9KVxuICAgIC8vICAgLmNhdGNoKGZ1bmN0aW9uKGVycikge1xuICAgIC8vICAgICBjb25zb2xlLmxvZygnQW4gZXJyb3Igb2NjdXJyZWQgd2hpbGUgcmV0cmlldmluZyB0b2tlbi4gJywgZXJyKTtcbiAgICAvLyAgICAgc2hvd1Rva2VuKCdFcnJvciByZXRyaWV2aW5nIEluc3RhbmNlIElEIHRva2VuLiAnLCBlcnIpO1xuICAgIC8vICAgfSk7XG5cbiAgICAvLyBtZXNzYWdpbmcub25Ub2tlblJlZnJlc2goZnVuY3Rpb24oKSB7XG4gICAgLy8gICBtZXNzYWdpbmdcbiAgICAvLyAgICAgLmdldFRva2VuKClcbiAgICAvLyAgICAgLnRoZW4oZnVuY3Rpb24ocmVmcmVzaGVkVG9rZW4pIHtcbiAgICAvLyAgICAgICBpZiAoY3VycmVudFRva2VuKSB7XG4gICAgLy8gICAgICAgICB0aGlzLm5vdGlmaWNhdGlvbkFsbG93ZWQgPSB0aGlzLmdldENhY2hlZE92ZXJyaWRlKClcbiAgICAvLyAgICAgICAgIGNvbnNvbGUubG9nKGN1cnJlbnRUb2tlbik7XG4gICAgLy8gICAgICAgfSBlbHNlIHtcbiAgICAvLyAgICAgICAgIC8vIFNob3cgcGVybWlzc2lvbiByZXF1ZXN0LlxuICAgIC8vICAgICAgICAgY29uc29sZS5sb2coJ05vIEluc3RhbmNlIElEIHRva2VuIGF2YWlsYWJsZS4gUmVxdWVzdCBwZXJtaXNzaW9uIHRvIGdlbmVyYXRlIG9uZS4nKTtcbiAgICAvLyAgICAgICAgIC8vIFNob3cgcGVybWlzc2lvbiBVSS5cbiAgICAvLyAgICAgICAgIHRoaXMubm90aWZpY2F0aW9uQWxsb3dlZCA9IGZhbHNlXG4gICAgLy8gICAgICAgfVxuICAgIC8vICAgICB9KVxuICAgIC8vICAgICAuY2F0Y2goZnVuY3Rpb24oZXJyKSB7XG4gICAgLy8gICAgICAgY29uc29sZS5sb2coJ1VuYWJsZSB0byByZXRyaWV2ZSByZWZyZXNoZWQgdG9rZW4gJywgZXJyKTtcbiAgICAvLyAgICAgfSk7XG4gICAgLy8gfSk7XG4gICAgLy8gU2V0IHRoZSBpbml0aWFsIHN1YnNjcmlwdGlvbiB2YWx1ZVxuICAgIGlmICh3aW5kb3cuc3dSZWdpc3RyYXRpb24pIHtcbiAgICAgIHdpbmRvd1xuICAgICAgICAuc3dSZWdpc3RyYXRpb25cbiAgICAgICAgLnB1c2hNYW5hZ2VyXG4gICAgICAgIC5nZXRTdWJzY3JpcHRpb24oKVxuICAgICAgICAudGhlbigoc3Vic2NyaXB0aW9uKSA9PiB7XG4gICAgICAgICAgY29uc3QgaXNTdWJzY3JpYmVkID0gIShzdWJzY3JpcHRpb24gPT09IG51bGwpO1xuXG4gICAgICAgICAgaWYgKGlzU3Vic2NyaWJlZCkge1xuICAgICAgICAgICAgdGhpcy5ub3RpZmljYXRpb25BbGxvd2VkID0gdGhpcy5nZXRDYWNoZWRPdmVycmlkZSgpXG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMubm90aWZpY2F0aW9uQWxsb3dlZCA9IGZhbHNlO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIHRoaXMuJGVtaXQoJ25vdGlmaWNhdGlvbi1zdGF0ZScsIHRoaXMubm90aWZpY2F0aW9uQWxsb3dlZCk7XG4gICAgICAgIH0pO1xuICAgIH1cbiAgfSxcbiAgbWV0aG9kczoge1xuICAgIHN1YnNjcmliZUZvck5vdGlmaWNhdGlvbnMoKSB7XG4gICAgICBOb3RpZmljYXRpb24ucmVxdWVzdFBlcm1pc3Npb24oKHBlcm1pc3Npb24pID0+IHtcbiAgICAgICAgLy8gSWYgdGhlIHVzZXIgYWNjZXB0cywgbGV0J3MgY3JlYXRlIGEgbm90aWZpY2F0aW9uXG4gICAgICAgIGlmIChwZXJtaXNzaW9uID09PSAnZ3JhbnRlZCcpIHtcbiAgICAgICAgICB0aGlzLm5vdGlmaWNhdGlvbkFsbG93ZWQgPSAhdGhpcy5ub3RpZmljYXRpb25BbGxvd2VkO1xuICAgICAgICAgIHRoaXMuc2V0Q2FjaGVkT3ZlcnJpZGUodGhpcy5ub3RpZmljYXRpb25BbGxvd2VkKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB0aGlzLnNldENhY2hlZE92ZXJyaWRlKGZhbHNlKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfSxcbiAgICBnZXRDYWNoZWRPdmVycmlkZSgpIHtcbiAgICAgIHJldHVybiBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgnbm90aWZpY2F0aW9uLW92ZXJyaWRlJykgPT09ICd0cnVlJztcbiAgICB9LFxuICAgIHNldENhY2hlZE92ZXJyaWRlKG5vdGlmaWNhdGlvbk92ZXJyaWRlKSB7XG4gICAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbSgnbm90aWZpY2F0aW9uLW92ZXJyaWRlJywgbm90aWZpY2F0aW9uT3ZlcnJpZGUpO1xuICAgICAgdGhpcy4kZW1pdCgnbm90aWZpY2F0aW9uLXN0YXRlJywgbm90aWZpY2F0aW9uT3ZlcnJpZGUpO1xuICAgIH0sXG4gIH0sXG59O1xuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIHNyYy9jb21wb25lbnRzL1RpbWVyRGlzcGxheS9UaW1lck5vdGlmaWNhdGlvbi9UaW1lck5vdGlmaWNhdGlvbi5qcyJdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRkE7QUFJQTtBQUNBO0FBQUE7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUtBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUFBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBbEJBO0FBaEVBIiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///198\n");

/***/ })

})