webpackJsonp([2],{D68w:function(t,e){},QkxU:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=i("/5sW"),n=r["a"].extend({name:"timer-display",components:{"timer-notification":function(){return i.e(5).then(i.bind(null,"//PJ"))}},props:["timerAmount"],data:function(){return{progressSize:100,timerValue:0,percentageForDisplay:0,fullTimerDisplay:"00:00:00",timerEndTime:0,timerActive:!1,notificationAllowed:!1,timerWorker:new Worker("./worker/timer.worker.js")}},created:function(){var t=this;document.addEventListener("visibilitychange",function(){t.timerWorker.postMessage({checkTimerValue:!0})}),setTimeout(function(){window.firebaseMessaging.onMessage(function(){t.resetTimer()})},100),this.notificationAllowed=!1,this.timerWorker.onmessage=function(e){document.hidden||t.$nextTick(function(){var i=e.data,r=i.timerValue,n=i.timerEndTime,s=i.percentageForDisplay,o=i.fullTimerDisplay;if(0===r){var a=(Date.now()-n)/10;if(t.notificationAllowed&&a<10){var m=t.$refs.audio;m.play()}t.resetTimer()}else requestAnimationFrame(function(){t.percentageForDisplay=s,t.timerValue=r,t.fullTimerDisplay=o})})};var e=function(e){return function(i){i.matches&&(t.progressSize=e)}},i=[{query:window.matchMedia("(min-width: 950px)"),size:"600"},{query:window.matchMedia("(max-width: 949px)"),size:"450"},{query:window.matchMedia("(min-width: 600px)"),size:"450"},{query:window.matchMedia("(max-width: 599px)"),size:"400"},{query:window.matchMedia("(min-width: 426px)"),size:"380"},{query:window.matchMedia("(max-width: 425px)"),size:"350"},{query:window.matchMedia("(min-width: 321px)"),size:"280"},{query:window.matchMedia("(max-width: 320px)"),size:"250"}];i.map(function(i){return i.query.addListener(e.bind(t)(i.size))}),i.map(function(i){return e.bind(t)(i.size)(i.query)}),this.timerWorker.postMessage({resetTimer:!0,timerAmount:this.timerAmount,fullAmount:this.timerAmount}),this.timerActive=!1,setTimeout(function(){var t=document.querySelector(".progress-circular__overlay");t&&(t.style.transition="none",t.style.color="#4caf50")},500)},destroyed:function(){this.resetTimer(),this.timerWorker.terminate()},methods:{startTimer:function(){if(this.timerActive=!0,this.timerValue===this.timerAmount){var t=this.$refs.audio;t.pause(),t.currentTime=0,this.timerWorker.postMessage({startTimer:!0,timerAmount:this.timerAmount,fullAmount:this.timerAmount,notificationAllowed:this.notificationAllowed})}else this.resumeTimer()},resumeTimer:function(){this.timerActive=!0,this.timerWorker.postMessage({startTimer:!0,timerAmount:this.timerValue,fullAmount:this.timerAmount})},pauseTimer:function(){this.timerActive=!1,this.timerWorker.postMessage({startTimer:!1})},resetTimer:function(){this.timerActive=!1,this.timerWorker.postMessage({resetTimer:!0,timerAmount:this.timerAmount,fullAmount:this.timerAmount})},allowNotification:function(t){this.notificationAllowed=t}}}),s=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"animated slideInUp",attrs:{id:"timer"}},[i("timer-notification",{attrs:{"timer-worker":t.timerWorker},on:{"notification-state":t.allowNotification}}),i("audio",{ref:"audio",attrs:{src:"audio/foghorn-daniel_simon.mp3"}}),i("div",{staticClass:"timer"},[i("div",{staticClass:"timer-content__values green--text"},[t._v("\n      "+t._s(t.fullTimerDisplay)+"\n    ")]),i("div",{staticClass:"timer-content"},[i("svg",{staticStyle:{transform:"rotate(-90deg)"},attrs:{xmlns:"http://www.w3.org/2000/svg",height:"300",width:"300"}},[i("circle",{staticClass:"progress-circular__underlay",attrs:{fill:"transparent",cx:"150",cy:"150",r:"147.5","stroke-width":"5","stroke-dasharray":"926.77","stroke-dashoffset":"0"}}),i("circle",{staticClass:"progress-circular__overlay",staticStyle:{transition:"none"},attrs:{fill:"transparent",cx:"150",cy:"150",r:"147.5","stroke-width":"5","stroke-dasharray":"926.77","stroke-dashoffset":926.77-926.77*t.percentageForDisplay/100}})])]),i("div",{staticClass:"timer-buttons"},[i("v-btn",{staticClass:"btn--light-flat-focused white--text timer-button",attrs:{light:"",fab:"",outline:"",color:"blue"},nativeOn:{click:function(e){t.resetTimer()}}},[i("v-icon",[t._v("loop")])],1),t.timerActive?i("v-btn",{staticClass:"btn--light-flat-focused white--text timer-button",attrs:{light:"",fab:"",outline:"",color:"red"},nativeOn:{click:function(e){t.pauseTimer()}}},[i("v-icon",[t._v("pause_circle_outline")])],1):i("v-btn",{staticClass:"btn--light-flat-focused white--text timer-button",attrs:{light:"",fab:"",outline:"",color:"green"},nativeOn:{click:function(e){t.startTimer()}}},[i("v-icon",[t._v("play_circle_outline")])],1)],1)])],1)},o=[],a=i("XyMi");function m(t){i("D68w")}var c=!1,l=m,u="data-v-014476f2",d=null,f=Object(a["a"])(n,s,o,c,l,u,d);e["default"]=f.exports}});
//# sourceMappingURL=2.40934112.js.map